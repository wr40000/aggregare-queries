(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},s={app:0},r=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"07f2":function(e,t,a){"use strict";a("3b3c")},"25de":function(e,t,a){"use strict";a("6b2e")},3522:function(e,t,a){},"3b3c":function(e,t,a){},"41e8":function(e,t,a){"use strict";a("5e0b")},"4e91":function(e,t,a){"use strict";a("3522")},"52de":function(e,t,a){"use strict";a("ec5f")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("lay-out")],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"contain"},[a("el-aside",{staticClass:"left-column"},[a("side-bar",{attrs:{control_graphShow:e.control_graphShow,"sample-queries":e.sampleQueries},on:{choosedQuery:e.choosedQuery}})],1),a("el-main",{staticClass:"right-column"},[a("head-searcher",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{"graph-data":e.predicate.split(" "),query:e.query,"sample-queries":e.sampleQueries},on:{getQuery:e.getQuery,getMessage:e.getMessage,choosedQuery:e.choosedQuery,selectChage:e.choosedQuery,getMiniGraphType:e.getMiniGraphType}},[a("miniQueryGraph",{attrs:{"query-type":e.miniGraphType,"graph-data":e.predicate.split(" ")}})],1),a("ModeSelect",{attrs:{query:e.query,control_graphShow:e.control_graphShow,round:e.round,"max-round":e.maxRound},on:{modeSelect:e.modeSelect}}),a("div",{staticStyle:{"margin-top":"15px"}},[a("results-table",{attrs:{round:e.round,"table-data":e.tableData}})],1),a("div",{staticClass:"candidate-answers-container"},[a("candidate-answers",{attrs:{"candidate-answers":e.candidateAnswers,options:e.options,round:e.round,"max-round":e.maxRound,click:e.click,answer:e.answer},on:{getSelectedSample:e.getSelectedSample}})],1),a("div",{staticClass:"query-graph-container"},[a("div",[e._v(" That contains the query node. "),a("largeQueryGraph",{attrs:{control_graphShow:e.control_graphShow,"graph-data":e.largeGraph,"data-type":e.largeGraphDataType}})],1),0===e.round&&0!==e.click?a("div"):e.round>=1?a("div",[e._v(" A random sample of "),a("span",{staticClass:"entity"},[e._v(" "+e._s(e.predicate.split(" ")[0].substring(2,e.predicate.split(" ")[0].length-1))+" ")]),e._v(". "),e.status?e._e():a("query-graph",{attrs:{"graph-data":e.graphData,"selected-sample":e.selectedSample}})],1):e._e(),e.status?a("SpecialGraph",{staticStyle:{height:"300px"},attrs:{id:"special-graph"}}):e._e()],1),a("control-buttons")],1)],1)},o=[],l=a("1da1"),c=(a("96cf"),a("b64b"),a("d3b7"),a("25f0"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"side-bar"}},[e._m(0),a("el-tree",{attrs:{data:this.data_tree,"default-expand-all":"true","highlight-current":"true"},on:{"node-click":e.clickData}}),a("el-dialog",{attrs:{visible:e.dialogFormVisible_cx},on:{"update:visible":function(t){e.dialogFormVisible_cx=t}}},[a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("数据集名称")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.jg,callback:function(t){e.$set(e.search_useless,"jg",t)},expression:"search_useless.jg"}})],1),a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("数据集文件目录")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.hx,callback:function(t){e.$set(e.search_useless,"hx",t)},expression:"search_useless.hx"}})],1),a("div",{staticClass:"demo-input-suffix-select"},[a("span",{staticStyle:{width:"100px"}},[e._v("图类型")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value_yg,callback:function(t){e.value_yg=t},expression:"value_yg"}},e._l(e.options_cx,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("a",{staticClass:"a",attrs:{href:"javaScript::"}},[e._v("数据集文件模板")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el_button_qx",on:{click:function(t){e.dialogFormVisible_cx=!1}}},[e._v(" 取 消 ")]),a("el-button",{staticClass:"el_button_qd",attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_cx=!1}}},[e._v(" 确 定 ")])],1)])],1)}),h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("span",[e._v("复杂网络社区查询系统")])])}],u=(a("fb6a"),[{query:"How many astronaut from Russia"},{query:"How many films in Danish"},{query:"How many politicians in Methodism"},{query:"How many books written by Danielle Steel"},{query:"How many companies in Munich"},{query:"How many films produced by Hal Roach"},{query:"What’s the average 0-100 accelerate of cars that produced in Germany"},{query:"What’s the average height of basketball player from United_States"},{query:"What’s the average height of soccer player from Spain"},{query:"What’s the average oil consumption of cars that produced in Germany"},{query:"What’s the average value of soccer player from Spain"},{query:"What’s the average weight of basketball player from United_States"}]),d=u,p={name:"SideBar",filters:{ellipsis:function(e){return e?e.length>25?e.slice(0,25)+"...":e:""}},props:{sampleQueries:{type:Array,default:function(){return[]}},singlePath:{type:Array,default:function(){return[]}},control_graphShow:{type:Object,default:function(){return 0}}},data:function(){return{windowHeight:0,autoHeight:{height:""},cardInfoList:"",sampleData:d,data_tree:null,dialogFormVisible_cx:!1,search_useless:{jg:null,hx:null,zx:null,wc:null,yl:null},options_cx:[{value:"选项1",label:"同构"},{value:"选项2",label:"异构"}],value_yg:""}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()},destroyed:function(){window.removeEventListener("resize",this.getHeight)},mounted:function(){this.changeToTree(this.sampleData)},methods:{clickData:function(e){if(console.log("************clickData:",e),"数据导入"===e.label)return console.log(e.label),void(this.dialogFormVisible_cx=!0);this.control_graphShow=!1,this.cardInfoList=e,this.cardInfoList.flag=1,this.$emit("choosedQuery",this.cardInfoList,1)},getHeight:function(){this.windowHeight=window.innerHeight,this.autoHeight.height=this.windowHeight-40+"px"},changeToTree:function(e){var t=new Array(6);e.forEach((function(e,a){if(a<6){t[a]={};var i=e.query,s=i;if("How many astronaut from Russia"===i)i="SEA算法";else if("How many films in Danish"===i)i="LocATC算法";else if("How many politicians in Methodism"===i)i="VAC算法";else if("How many companies in Munich"===i)i="ACQ算法";else if("How many films produced by Hal Roach"===i)i="精确算法";else{if("How many books written by Danielle Steel"!==i)return;i="EVAC算法"}t[a].label=i,t[a].query=s}}));var a=[{label:"数据导入"},{label:"数据导出"},{label:"查询图构建"},{label:"元路径查询"},{label:"社区查询算法",children:t}];this.data_tree=a}}},f=p,g=(a("41e8"),a("2877")),m=Object(g["a"])(f,c,h,!1,null,"3b2d9f7a",null),y=m.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"show"},[a("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:13}},[e.colorShow?a("el-link",{style:"width:"+e.widthLink+"%;display:flex;height:38px;text-align:start;justify-content:flex-start;border-bottom:1px solid #DCDFE6;",on:{click:function(t){return e.widthChange()}}},[a("span",{staticStyle:{"padding-top":"10px","font-size":"14px"}},[a("span",[e._v(e._s(e.str[0]))]),a("span",{staticStyle:{color:"#CF9F62","font-weight":"600"}},[e._v(e._s(e.str[1]))]),a("span",[e._v(e._s(e.str[2]))]),a("span",{staticStyle:{color:"#E88D8D","font-weight":"600"}},[e._v(e._s(e.str[3]))]),a("span",[e._v(e._s(e.str[4]))])])]):e._e(),100===e.widthSearch?a("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select",style:"width:"+e.widthSearch+"%",attrs:{id:"input"},on:{blur:function(t){return e.changeToLink()}},model:{value:e.containSearch,callback:function(t){e.containSearch=t},expression:"containSearch"}}):e._e()],1),a("el-col",{attrs:{span:1.5}},[a("div",[a("el-button",{staticClass:"submit-button",staticStyle:{"font-size":"12px",margin:"0 2px"},attrs:{type:"primary"},on:{click:function(t){return e.selectChange(0)}}},[e._v("submit")])],1)]),a("el-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"},attrs:{span:9.5}},[e._t("default")],2)],1)},v=[],w=(a("ac1f"),a("841c"),a("1913"),a("1276"),a("498a"),a("6062")),_=[{query:"How many astronaut from Russia"},{query:"How many films in Danish"},{query:"How many politicians in Methodism"},{query:"How many soccerclubs in Spain"},{query:"How many software has been developed by organizations founded in California"},{query:"How many books written by Danielle Steel"},{query:"How many companies in Munich"},{query:"How many companies in the advertising industry"},{query:"How many films produced by Hal Roach"},{query:"What’s the average 0-100 accelerate of cars that produced in Germany"},{query:"What’s the average height of basketball player from United_States"},{query:"What’s the average height of soccer player from Spain"},{query:"What’s the average oil consumption of cars that produced in Germany"},{query:"What’s the average value of soccer player from Spain"},{query:"What’s the average weight of basketball player from United_States"},{query:"How many cars be produced in Germany"},{query:"What is the average price of cars be produced in Germany"}],x=_,S={name:"HeaderSearch",props:{sampleQueries:{type:Array,default:function(){return[]}},query:{type:String,default:function(){return""}},graphData:{type:Array,default:function(){return[]}}},data:function(){return{search:"",options:[],searchPool:[],show:!0,fuse:void 0,widthLink:0,widthSearch:100,containLink:"",containSearch:"",beforeContain:"Search",fontsize:0,str:[],type:"",searchWidth:10,leftWidth:14,colorShow:!0,clickJudge:!1,searchCopy:""}},watch:{widthLink:function(e){this.colorShow=0!==e},query:function(e){this.clickJudge?(this.searchCopy=this.containSearch,this.clickJudge=!1,console.log("clickJudge true"),console.log(this.containSearch)):(this.searchCopy=e,this.containSearch="",console.log("clickJudge false"),console.log(this.containSearch)),this.search=e,this.beforeContain="",this.type="",this.widthLink=100,this.widthSearch=0,this.fontsize=14,this.search.length>50?(this.searchWidth=15,this.leftWidth=9):this.search.length<=35?(this.searchWidth=8,this.leftWidth=16):(this.searchWidth=10,this.leftWidth=14)},graphData:function(e){if("undefined"!==typeof e[2]&&"undefined"!==typeof e[0]){"?(automobile)"===e[0]&&(e[0]="?(cars)"),"Advertising"===e[2]&&(e[2]="advertising");for(var t=e[2].substring(0,3),a=e[0].substring(2,5),i=-1,s=-1,r=-1,n=-1,o="",l="",c="",h="",u="",d=0;d<=this.search.length-4;d++){if(this.search.substring(d,d+3)===t||this.search.substring(d,d+1)>="A"&&this.search.substring(d,d+1)<="Z"&&d>=1&&-1===i){i=d;for(var p=d+3;p<=this.search.length;p++)if(" "===this.search.substring(p,p+1)&&this.search.substring(p+1,p+2)<"A"&&this.search.substring(p+1,p+2)>"Z"||p===this.search.length){r=p;break}}if(this.search.substring(d,d+3)===a){s=d;for(var f=d+3;f<=this.search.length;f++)if(" "===this.search.substring(f,f+1)&&"pl"!==this.search.substring(f+1,f+3)||f===this.search.length){n=f;break}}}-1!==i&&-1!==s&&(o=this.search.substring(0,s),l=this.search.substring(s,n),c=this.search.substring(n,i),h=this.search.substring(i,r),u=this.search.substring(r)),this.str[0]=o,this.str[1]=l,this.str[2]=c,this.str[3]=h,this.str[4]=u,this.type="";var g=[],m="";console.log("containSearch"),console.log(this.containSearch),g=this.containSearch.trim().split(/[,_\s.]/),console.log("key"),console.log(g),console.log("str[1]"),console.log(this.str[1].toLowerCase().trim().split(/[,_\s.]/)[0]),console.log("str[3]"),console.log(this.str[3].toLowerCase().trim().split(/[,_\s.]/)[0]);var y=!1;if(Object.keys(g).length>1)for(var b=0;b<Object.keys(g).length;b++)g[b].toLowerCase()!==this.str[1].toLowerCase().trim().split(/[,_\s.]/)[0]?g[b].toLowerCase()!==this.str[3].toLowerCase().trim().split(/[,_\s.]/)[0]?y?y=!1:m=m+g[b]+" ":(this.str[2]=m,g[b]!==this.str[3].trim().split(/[,_\s.]/)[0]?this.str[3]=this.str[3].toLowerCase()+" ":this.str[3]=this.str[3]+" ",console.log(this.str[2]),m="",!0,Object.keys(this.str[3].toLowerCase().trim().split(/[,_\s.]/)).length>1&&(-1!==this.str[3].indexOf("_")&&(this.str[3]=this.str[3].toLowerCase().trim().split(/[,_\s.]/)[0]+" "+this.str[3].toLowerCase().trim().split(/[,_\s.]/)[1]+" "),y=!0)):(this.str[0]=m,g[b]!==this.str[1].trim().split(/[,_\s.]/)[0]?this.str[1]=this.str[1].toLowerCase()+" ":this.str[1]=this.str[1]+" ",m="",console.log(this.str[0]),!0,Object.keys(this.str[1].toLowerCase().trim().split(/[,_\s.]/)).length>1&&(-1!==this.str[1].indexOf("_")&&(this.str[1]=this.str[1].toLowerCase().trim().split(/[,_\s.]/)[0]+" "+this.str[1].toLowerCase().trim().split(/[,_\s.]/)[1]+" "),y=!0));this.str[4]=m;for(var v=0;v<5;v++)console.log("str"+v),console.log(this.str[v]);if("What"===this.search.substring(0,4)){for(var w=0;w<=this.search.length-8;w++)if("average"===this.search.substring(w,w+7)){var _=w+8;while(" "!==this.search.substring(_,_+1))_++;var x=this.search.substring(w+8,_);"oil"===x?x+=" consumption":"0-100"===x&&(x="0-100 accelerate"),this.type="AVG("+x+")"}}else"How"===this.search.substring(0,3)&&(this.type="COUNT(*)");this.$emit("getMiniGraphType",this.type)}}},mounted:function(){this.searchPool=this.sampleQueries,this.fuse=new w["a"](this.searchPool,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["query"]})},methods:{selectChange:function(e){console.log("change"),console.log(x);var t={},a=0,i=[];i=this.containSearch.trim().split(/\s+/);for(var s=0;s<Object.keys(x).length;s++){var r=0,n=[];n=x[s].query.trim().split(/\s+/);for(var o=0;o<Object.keys(i).length;o++)for(var l=0;l<Object.keys(n).length;l++)"many"===n[l]&&"count"===i[o]&&r++,n[l]===i[o]&&r++;r>a&&(a=r,t.query=x[s].query,this.searchCopy=this.containSearch)}t.flag=1,0===e&&(this.clickJudge=!0),this.$emit("choosedQuery",t)},querySearch:function(e){this.options=this.fuse.search(e),0===this.options.length&&(this.options=[{item:{query:"No relevant data found, please enter the correct query",refIndex:0}}])},widthChange:function(){this.type="",this.widthLink=0,this.widthSearch=100},changeToLink:function(){this.widthLink=100,this.widthSearch=0,this.colorShow=!0}}},k=S,C=(a("07f2"),Object(g["a"])(k,b,v,!1,null,"de4c82f4",null)),A=C.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{border:"#DCDFE6 solid 1.5px"}},[a("el-table",{attrs:{data:e.copydata,"empty-text":"Approximate aggregate results with confidence interval",border:"","header-cell-style":{backgroundColor:"lightblue",color:"#ffff",fontWight:"500",textAlign:"center",height:"0",padding:"0"},"row-style":{height:"0"},"cell-style":{padding:"0","text-align":"center"}}},[a("el-table-column",{attrs:{prop:"round",label:"Round"}}),a("el-table-column",{attrs:{prop:"result",label:"Approximate Result","min-width":"120"}}),a("el-table-column",{attrs:{prop:"confidence interval",label:"MoE ε"}}),a("el-table-column",{attrs:{prop:"error",label:"Relative Error","min-width":"120"}}),a("el-table-column",{attrs:{prop:"confidence level-fixed",label:"Confidence Level","min-width":"110"}}),a("el-table-column",{attrs:{prop:"runtime of this round",label:"Runtime (ms)","min-width":"100"}})],1)],1)},D=[],j=(a("a9e3"),{name:"ResultsTable",props:{round:{type:Number,default:0},tableData:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:function(){return!1}}},data:function(){return{copydata:[]}},watch:{round:function(e){this.copydata=this.tableData.slice(0,e)}},methods:{}}),O=j,P=(a("4e91"),Object(g["a"])(O,q,D,!1,null,"1604ef10",null)),F=P.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.answer?e._e():a("div",e._l(e.samples,(function(t){return a("el-container",{key:t.value,style:"cursor:pointer;margin-bottom:20px;height: "+e.height+"px;float:left; border: 1px solid #eee;width: "+e.wide+"%"},[a("el-container",[a("el-main",{staticStyle:{padding:"0"}},[!1===e.linejudge?a("el-table",{attrs:{"empty-text":"Null",data:e.candidateCopy[t.value-1],"header-cell-style":{whiteSpace:"pre-line",background:"#EDCA96",color:"#ffff",textAlign:"center",cursor:"default",height:"30px",fontSize:"14px",height:"45px",padding:"0"},"cell-style":{padding:"0","text-align":"center"},"row-style":{height:"0"},height:"140"},on:{"row-click":e.clickData}},[a("el-table-column",{attrs:{prop:"sampleName",label:"Round "+t.value+":"+Object.keys(e.candidateCopy[t.value-1]).length+" samples","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sampleName))])]}}],null,!0)},[a("template",{slot:"header"},[a("div",[e._v("Round "+e._s(t.value)+":")]),a("div",[e._v(e._s(Object.keys(e.candidateCopy[t.value-1]).length+" ")+"samples")])])],2)],1):e._e(),!0===e.linejudge?a("el-table",{attrs:{"empty-text":"Null",data:e.candidateCopy[t.value-1],"header-cell-style":{whiteSpace:"pre-line",background:"#EDCA96",color:"#ffff",textAlign:"center",cursor:"default",height:"30px",fontSize:"14px",height:"45px",padding:"0"},"cell-style":{padding:"0","text-align":"center"},"row-style":{height:"0"},height:"140"},on:{"row-click":e.clickData}},[a("el-table-column",{attrs:{prop:"sampleName",label:"Round "+t.value+":"+Object.keys(e.candidateCopy[t.value-1]).length+" samples","show-overflow-tooltip":!0}})],1):e._e()],1)],1)],1)})),1),e.answer?a("el-container",{style:"cursor:pointer;margin-bottom:20px;height: "+e.height+"px;float:left; border: 1px solid #eee;width: 65%"},[a("el-container",[a("el-main",{staticStyle:{padding:"0"}},[a("el-table",{attrs:{height:"45","header-cell-style":{whiteSpace:"pre-line",background:"#EDCA96",color:"#ffff",textAlign:"center",cursor:"default",height:"30px",fontSize:"14px",height:"45px",padding:"0"},"cell-style":{padding:"0","text-align":"center"},"row-style":{height:"0"},data:e.finalAnswer}},[a("el-table-column",{attrs:{label:"All Samples: "+(Object.keys(e.finalAnswer[0]).length+Object.keys(e.finalAnswer[1]).length)}})],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-table",{attrs:{"show-header":!1,"empty-text":"Null","header-cell-style":{whiteSpace:"pre-line",background:"#EDCA96",color:"#ffff",textAlign:"center",cursor:"default",height:"30px",fontSize:"14px",height:"45px",padding:"0"},"cell-style":{padding:"0","text-align":"center"},"row-style":{height:"0"},data:e.finalAnswer[0]},on:{"row-click":e.clickData}},[a("el-table-column",{attrs:{prop:"sampleName"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sampleName)+" ")]}}],null,!1,607998012)})],1)],1),a("el-col",{attrs:{span:12}},[a("el-table",{attrs:{"show-header":!1,"empty-text":"Null","header-cell-style":{whiteSpace:"pre-line",background:"#EDCA96",color:"#ffff",textAlign:"center",cursor:"default",height:"30px",fontSize:"14px",height:"45px",padding:"0"},"cell-style":{padding:"0","text-align":"center"},"row-style":{height:"0"},data:e.finalAnswer[1]},on:{"row-click":e.clickData}},[a("el-table-column",{attrs:{prop:"sampleName"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sampleName)+" ")]}}],null,!1,607998012)})],1)],1)],1)],1)],1)],1):e._e(),a("el-table",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],style:"border:#DCDFE6 solid 1.5px;height:"+e.height+"px;width:"+e.wideSample+"%;",attrs:{"cell-style":{"text-align":"center"},data:e.selectsample,"header-cell-style":{whiteSpace:"pre-line",background:"#F4B0B0",color:"#fff",textAlign:"center",height:"0",padding:"0"}}},[a("el-table-column",{attrs:{prop:"samplename",label:"Sample Name","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.samplename))])]}}])},[a("template",{slot:"header"},[a("div",[e._v("Sample")]),a("div",[e._v("Name")])])],2),a("el-table-column",{attrs:{prop:"visitprobality",label:"Visiting Probability","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.visitprobality))])]}}])},[a("template",{slot:"header"},[a("div",[e._v("Visiting")]),a("div",[e._v("Probability")])])],2),a("el-table-column",{attrs:{prop:"semanticsimilarities",label:"Semantic Similarity","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.semanticsimilarities))])]}}])},[a("template",{slot:"header"},[a("div",[e._v("Semantic")]),a("div",[e._v("Similarity")])])],2)],1)],1)},N=[],E={name:"CandidateAnswers",props:{candidateAnswers:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}},round:{type:Number,default:0},answer:{type:Boolean,default:!1}},data:function(){return{currentround:1,copyArray:this.options,samples:[],candidateCopy:[],wide:100,wideSample:0,height:0,selectsample:[{samplename:"",visitprobality:"",semanticsimilarities:""}],linejudge:!0,finalAnswer:[]}},watch:{round:function(e){this.height=150,this.wideSample=35,this.currentround=e,this.wide=0!==e?100/e:0,this.samples=this.copyArray.slice(0,this.currentround),e>=3&&(this.linejudge=!1)},options:function(e){this.copyArray=e,this.selectsample[0].visitprobality="",this.selectsample[0].semanticsimilarities="",this.selectsample[0].samplename=""},wide:function(e){0===this.wide?(this.height=0,this.wideSample=0):(this.wideSample=35,this.height=150)},candidateAnswers:function(e){if(this.answer=!1,e){this.candidateCopy=[],this.finalAnswer=[],this.linejudge=!0;for(var t=0;t<=Object.keys(e).length-1;t++){var a=[];if(0===t)this.candidateCopy.push(e[t]);else{for(var i=0;i<=Object.keys(e[t]).length-1;i++){for(var s=1,r=0;r<=Object.keys(e[t-1]).length-1;r++)if(e[t][i].sampleName===e[t-1][r].sampleName){s=0;break}1===s&&a.push(e[t][i])}a||a.push({sampleName:"",visitprobality:"",semanticsimilarities:""}),this.candidateCopy.push(a)}}for(var n=Object.keys(e).length,o=[],l=0;l<=Object.keys(e[n-1]).length-1;l++)o.push(e[n-1][l]),l===parseInt(Object.keys(e[n-1]).length/2)&&(console.log(1111),this.finalAnswer.push(o),o=[]);this.finalAnswer.push(o)}}},methods:{clickData:function(e){this.selectsample[0].visitprobality=e.visitprobality,this.selectsample[0].semanticsimilarities=e.semanticsimilarities,this.selectsample[0].samplename=e.sampleName,this.$emit("getSelectedSample",this.selectsample[0])}}},T=E,G=(a("25de"),Object(g["a"])(T,z,N,!1,null,"4ca91610",null)),L=G.exports,H=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"network",staticStyle:{width:"100%",height:"250px",border:"1px solid #ccc"},attrs:{id:"query-graph"}})])}],R=a("5530"),V=(a("b0c0"),a("53ca")),$={autoResize:!0,nodes:{shape:"ellipse",size:18,shadow:!1,font:{size:12,color:"black",align:"center"},color:{border:"transparent",background:"#eee",highlight:{border:"rgb(117, 218, 167)",background:"rgb(117, 218, 167)"},hover:{border:"#dff9fb",background:"#88dab1"}},margin:5,widthConstraint:100,borderWidth:1,borderWidthSelected:3},edges:{label:"",width:1,color:{color:"#848499",highlight:"rgb(117, 218, 167)",hover:"#88dab1",inherit:"from",opacity:1},font:{color:"#343434",size:12,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold"},ital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"italic"},boldital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold italic"},mono:{color:"#343434",size:12,face:"courier new",vadjust:2,mod:""}},shadow:!1,smooth:{enabled:!0},arrows:{to:{enabled:!1}}},physics:{stabilization:!0,enabled:!0,barnesHut:{gravitationalConstant:-12e3,centralGravity:.2,springLength:120,springConstant:.04,damping:.09,avoidOverlap:0}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,hoverConnectedEdges:!0,keyboard:{enabled:!0,speed:{x:10,y:10,zoom:.05},bindToWindow:!0},multiselect:!1,navigationButtons:!0,selectable:!0,selectConnectedEdges:!0,tooltipDelay:300,zoomView:!0}};function B(e){if(!e&&"object"!==Object(V["a"])(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(a){e[a]&&"object"===Object(V["a"])(e[a])?t[a]=B(e[a]):t[a]=e[a]})),t}function I(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}var W=a("f05c"),Q=a.n(W),J={name:"QueryGraph",props:{graphData:{type:Array,default:function(){return[]}},selectedSample:{type:String,default:function(){return""}}},data:function(){return{dialogVisible:!1,nodes:[],edges:[],container:null,nodesArray:[],edgesArray:[],originArray:[],options:$,data:{},sampleMapId:{},idCount:1,valueCount:1,pathLimit:250,selectedPath:[],selectedPathHistory:[]}},watch:{selectedSample:function(e){for(var t=[],a=[],i=0;i<this.originArray.length;i++)if(this.originArray[i].path[0]===e){0!==this.selectedPath.length&&(this.selectedPathHistory=this.selectedPath),this.selectedPath=this.originArray[i].path;for(var s=0,r=0;r<this.selectedPath.length;r++)s%2===0&&t.push(this.sampleMapId[this.selectedPath[r]]),s++;s=0;for(var n=0;n<this.selectedPathHistory.length;n++)s%2===0&&a.push(this.sampleMapId[this.selectedPathHistory[n]]),s++;break}var o=t.length,l=I(0,360),c=l*Math.PI/180,h=141.4,u=h*Math.cos(c),d=h*Math.sin(c);this.updateNodeColor(t[0],"#00b050",o*u,o*d,!0);for(var p=1;p<t.length-1;p++)this.updateNodeColor(t[p],"#00b050",(o-p)*u,(o-p)*d,!0),this.updateEdgeColor(this.findPathId(t[p],t[p-1]),"#0070c0",5);if(this.updateEdgeColor(this.findPathId(t[t.length-1],t[t.length-2]),"#0070c0",5),0!==a.length){var f=!1;this.updateNodeColor(a[0],"#eee",void 0,void 0,!1);for(var g=1;g<a.length-1;g++)1!==g||t[g]!==a[g]?(this.updateNodeColor(a[g],"#eee",void 0,void 0,!1),this.updateEdgeColor(this.findPathId(a[g],a[g-1]),"#848499",1)):(this.updateEdgeColor(this.findPathId(a[g],a[g-1]),"#848499",1),f=!f);f||this.updateEdgeColor(this.findPathId(a[a.length-1],a[a.length-2]),"#848499",1)}},graphData:{handler:function(e){var t=this;this.originArray=e,this.nodesArray=[],this.edgesArray=[],this.sampleMapId={},this.idCount=1,e=this.dataCut(e,this.pathLimit),e.forEach((function(e){for(var a=e.path,i=1,s=0;s<a.length;s++){var r=a[s];void 0===t.sampleMapId[r]&&i%2===1&&(t.sampleMapId[r]=t.idCount,t.nodesArray.push({id:t.idCount,name:r}),t.idCount++),i++}i=1;for(var n=0;n<a.length;n++)i%2===0&&function(){var e=t.sampleMapId[a[n-1]],i=t.sampleMapId[a[n+1]];if(0===t.edgesArray.length)t.edgesArray.push({from:i,to:e,width:1,id:t.valueCount,label:a[n]}),t.valueCount++;else{for(var s=!0,r=0;r<t.edgesArray.length;r++)if(e===t.edgesArray[r].to&&i===t.edgesArray[r].from){s=!1;break}s&&(t.edgesArray.push({from:i,to:e,width:1,id:t.valueCount,label:a[n]}),t.valueCount++,n===a.length-2&&t.nodesArray.forEach((function(e){e.id===i&&(e.color="#c00000")})))}}(),i++})),this.reinitialize()},immediate:!0,deep:!0}},mounted:function(){this.reinitialize()},methods:{findPathId:function(e,t){for(var a=0;a<this.edgesArray.length;a++)if(this.edgesArray[a].from===e&&this.edgesArray[a].to===t)return this.edgesArray[a].id},updateNodeColor:function(e,t,a,i,s){var r=this.nodes.get(e);r.color=t,r.physics=!s,r.x=void 0!==a?a:void 0,r.y=void 0!==i?i:void 0,this.nodes.update(r)},updateEdgeColor:function(e,t,a){var i=this.edges.get(e);i.color=t,i.width=a,this.edges.update(i)},dataCut:function(e,t){if(e.length<=t)return e;this.$message.warning("There are too many paths, and some paths have been cut out for better display.");for(var a=[],i=0;i<t;i++)a.push(e[i]);return a},reinitialize:function(){this.nodes=new Q.a.DataSet([]),this.edges=new Q.a.DataSet([]),this.init(this.nodes,this.edges),this.network.moveTo({scale:.4});var e={nodes:this.nodesArray,edges:this.edgesArray};this.addNetworkParams(e)},init:function(e,t){this.container=document.getElementById("query-graph"),this.data={nodes:e,edges:t},this.network=new Q.a.Network(this.container,this.data,this.options)},addNetworkParams:function(e){for(var t=0;t<e.nodes.length;t++){var a=e.nodes[t];this.nodes.add(Object(R["a"])({label:a.name},a))}for(var i=0;i<e.edges.length;i++){var s=e.edges[i];this.edges.add(Object(R["a"])({},s))}}}},U=J,Y=(a("a16f"),Object(g["a"])(U,H,M,!1,null,"5e60d1f1",null)),K=Y.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},X=[],ee={name:"ControlButtons"},te=ee,ae=Object(g["a"])(te,Z,X,!1,null,"0d6f165e",null),ie=ae.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"mini-query-graph"}},[a("div",{staticStyle:{position:"relative",width:"378px",height:"38px"}},[0!==e.queryType.length?a("div",{staticClass:"type"},[e._v(e._s(e.queryType))]):e._e(),a("div",{staticClass:"network cancel",staticStyle:{width:"378px",height:"38px",border:"1px solid #ccc",color:"#ffff"},attrs:{id:"query-graph-mini"}})])])},re=[],ne={name:"miniQueryGraph",props:{graphData:{type:Array,default:function(){return[]}},queryType:{type:String,default:function(){return""}}},data:function(){return{dialogVisible:!1,nodes:[],edges:[],container:null,nodesArray:[],edgesArray:[],options:$}},watch:{graphData:function(e){this.edgesArray=[],this.nodesArray=[],this.nodesArray=[{id:1,name:e[2],color:"#FFC1C1",x:-160,y:0},{id:2,name:e[0],color:"#FFD39B",x:170,y:0}],this.edgesArray.push({from:1,to:2,label:e[1],color:"#0070c0",length:330}),this.reinitialize()}},mounted:function(){this.reinitialize()},methods:{reinitialize:function(){this.nodes=new Q.a.DataSet([]),this.edges=new Q.a.DataSet([]),this.init(this.nodes,this.edges),this.network.moveTo({scale:.78});var e={nodes:this.nodesArray,edges:this.edgesArray};this.addNetworkParams(e)},init:function(e,t){this.container=document.getElementById("query-graph-mini"),this.data={nodes:e,edges:t},this.network=new Q.a.Network(this.container,this.data,this.options)},addNetworkParams:function(e){for(var t=0;t<e.nodes.length;t++){var a=e.nodes[t];this.nodes.add(Object(R["a"])({label:a.name},a))}for(var i=0;i<e.edges.length;i++){var s=e.edges[i];this.edges.add(Object(R["a"])({},s))}}}},oe=ne,le=(a("e081"),Object(g["a"])(oe,se,re,!1,null,"1266919d",null)),ce=le.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.control_graphShow.isshow,expression:"control_graphShow.isshow"}],staticClass:"network",staticStyle:{width:"100%",height:"450px",border:"1px solid #ccc"},attrs:{id:"query-graph-large"}})])},ue=[],de={name:"LargeQueryGraph",props:{graphData:{type:[Array,Object],default:function(){return[]}},selectedSample:{type:String,default:function(){return""}},dataType:{type:Boolean,default:function(){return!1}},control_graphShow:{type:Object,default:function(){return 0}}},data:function(){return{dialogVisible:!1,nodes:[],edges:[],container:null,nodesArray:[],edgesArray:[],options:$,tags:[]}},watch:{graphData:function(e){if(!0===this.dataType){this.edgesArray=[],this.nodesArray=[],this.tags=[];for(var t=0;t<e.length&&t<150;t++){var a=e[t][0],i=e[t][1];-1===this.tags.indexOf(a)&&(this.tags.push(a),this.nodesArray.push({id:a,name:e[t][2]})),-1===this.tags.indexOf(i)&&(this.tags.push(i),this.nodesArray.push({id:i,name:e[t][4]})),this.edgesArray.push({from:a,to:i,label:e[t][3]})}this.reinitialize()}else!1===this.dataType&&(this.nodesArray=e["nodesArray"],this.edgesArray=e["edgesArray"],this.reinitialize())}},mounted:function(){this.reinitialize()},methods:{reinitialize:function(){this.nodes=new Q.a.DataSet([]),this.edges=new Q.a.DataSet([]),this.init(this.nodes,this.edges),this.network.moveTo({scale:.4});var e={nodes:this.nodesArray,edges:this.edgesArray};this.addNetworkParams(e)},init:function(e,t){this.container=document.getElementById("query-graph-large"),this.data={nodes:e,edges:t},this.network=new Q.a.Network(this.container,this.data,this.options)},addNetworkParams:function(e){for(var t=0;t<e.nodes.length;t++){var a=e.nodes[t];this.nodes.add(Object(R["a"])({label:a.name},a))}for(var i=0;i<e.edges.length;i++){var s=e.edges[i];this.edges.add(Object(R["a"])({},s))}}}},pe=de,fe=(a("7422"),Object(g["a"])(pe,he,ue,!1,null,"237f6676",null)),ge=fe.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"special-query-graph"}},[a("div",{staticStyle:{position:"relative",width:"100%",height:"450px !important"}},[0!==e.queryType.length?a("div",{staticClass:"type"},[e._v(e._s(e.queryType))]):e._e(),a("div",{staticClass:"network cancel",staticStyle:{width:"100%",height:"450px !important",border:"1px solid #ccc",color:"#ffff"},attrs:{id:"special-graph"}})])])},ye=[],be={name:"miniQueryGraph",props:{graphData:{type:Array,default:function(){return[]}},queryType:{type:String,default:function(){return""}}},data:function(){return{dialogVisible:!1,nodes:[],edges:[],container:null,nodesArray:[],edgesArray:[],options:{autoResize:!0,nodes:{shape:"ellipse",size:18,shadow:!1,font:{size:12,color:"black",align:"center"},color:{border:"transparent",background:"#fff",highlight:{border:"#fff",background:"rgb(117, 218, 167)"},hover:{border:"#fff",background:"#88dab1"}},margin:5,widthConstraint:130,borderWidth:1,borderWidthSelected:3},edges:{width:1,color:{color:"#848499",highlight:"rgb(117, 218, 167)",hover:"#88dab1",inherit:"from",opacity:1},font:{color:"#343434",size:12,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold"},ital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"italic"},boldital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold italic"},mono:{color:"#343434",size:12,face:"courier new",vadjust:2,mod:""}},shadow:!1,smooth:{enabled:!0},arrows:{to:!0}},physics:{stabilization:!0,enabled:!1,barnesHut:{gravitationalConstant:-12e3,centralGravity:.2,springLength:120,springConstant:.04,damping:.09,avoidOverlap:0}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,hoverConnectedEdges:!0,keyboard:{enabled:!0,speed:{x:10,y:10,zoom:.05},bindToWindow:!0},multiselect:!1,navigationButtons:!0,selectable:!0,selectConnectedEdges:!0,tooltipDelay:300,zoomView:!0}}}},created:function(){this.nodesArray=[{id:1,name:"California",x:-400,y:300,color:"#FFC1C1"},{id:2,name:"company",x:-100,y:300,color:"lightblue"},{id:3,name:"?(software)",x:200,y:300,color:"#FFD39B"},{id:4,name:"California",x:-400,y:200,color:"#FFC1C1"},{id:5,name:"company",x:-100,y:200,color:"lightblue"},{id:6,name:"?(software)",x:200,y:200,color:"#FFD39B"},{id:7,name:"California",x:-400,y:100,color:"#FFC1C1"},{id:8,name:"company",x:-100,y:100,color:"lightblue"},{id:9,name:"?(software)",x:200,y:100,color:"#FFD39B"},{id:10,name:"California",x:-400,y:0,color:"#FFC1C1"},{id:11,name:"company",x:-100,y:0,color:"lightblue"},{id:12,name:"?(software)",x:200,y:0,color:"#FFD39B"},{id:13,name:"California",x:-400,y:-100,color:"#FFC1C1"},{id:14,name:"company",x:-100,y:-100,color:"lightblue"},{id:15,name:"?(software)",x:200,y:-100,color:"#FFD39B"},{id:16,name:"0.97",x:350,y:300},{id:17,name:"0.90",x:350,y:200},{id:18,name:"0.85",x:350,y:100},{id:19,name:"0.88",x:350,y:0},{id:20,name:"0.95",x:350,y:-100},{id:21,name:"Schema5",x:-100,y:270},{id:22,name:"Schema4",x:-100,y:170},{id:23,name:"Schema3",x:-100,y:70},{id:24,name:"Schema2",x:-100,y:-30},{id:25,name:"Schema1",x:-100,y:-130},{id:26,name:"Semantically similarity",x:250,y:70}],this.edgesArray=[{from:1,to:2,label:"foundationPlace"},{from:2,to:3,label:"product"},{from:4,to:5,label:"foundationPlace"},{from:5,to:6,label:"developer"},{from:7,to:8,label:"foundationPlace"},{from:8,to:9,label:"industry"},{from:10,to:11,label:"foundationPlace"},{from:11,to:12,label:"computingPlatform"},{from:13,to:14,label:"foundationPlace"},{from:14,to:15,label:"author"}]},mounted:function(){this.reinitialize()},methods:{initPosition:function(e){},reinitialize:function(){this.nodes=new Q.a.DataSet([]),this.edges=new Q.a.DataSet([]),this.init(this.nodes,this.edges),this.network.moveTo({scale:.58});var e={nodes:this.nodesArray,edges:this.edgesArray};this.addNetworkParams(e)},init:function(e,t){this.container=document.getElementById("special-graph"),this.data={nodes:e,edges:t},this.network=new Q.a.Network(this.container,this.data,this.options)},addNetworkParams:function(e){for(var t=0;t<e.nodes.length;t++){var a=e.nodes[t];this.nodes.add(Object(R["a"])({label:a.name},a))}for(var i=0;i<e.edges.length;i++){var s=e.edges[i];this.edges.add(Object(R["a"])({},s))}}}},ve=be,we=(a("dde7"),Object(g["a"])(ve,me,ye,!1,null,"0d52b92a",null)),_e=we.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"42px","margin-top":"10px"}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:3}},[a("div",{staticStyle:{visibility:"hidden"}},[e._v("占位")])]),a("div",[e._e()],1),e._e(),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:2}},[a("el-tooltip",{attrs:{content:"round by round"}},[a("el-button",{class:["select-first",null==e.button_focus_click||1==e.button_focus_click?"":"select-button-select",e.button_focus_click&&e.button_focus?"select-button-select-active":""],style:e.computedStyleTG,on:{click:function(t){return e.change_button_focus(!0)}}},[e._v(" 同构 ")])],1)],1),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:2}},[a("el-tooltip",{attrs:{content:"round by round"}},[a("el-button",{class:["select-first",null==e.button_focus_click||1==e.button_focus_click?"":"select-button-select",e.button_focus_click?e.button_focus?"":"select-button-select-active":""],style:e.computedStyleYG,on:{click:function(t){return e.change_button_focus_yg(!1)}}},[e._v(" 异构 ")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogFormVisible_tg},on:{"update:visible":function(t){e.dialogFormVisible_tg=t}}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value_tg,callback:function(t){e.value_tg=t},expression:"value_tg"}},e._l(e.options_tg,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el_button_qx",on:{click:function(t){e.dialogFormVisible_tg=!1}}},[e._v(" 取 消 ")]),a("el-button",{staticClass:"el_button_qd",attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_tg=!1}}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogFormVisible_yg},on:{"update:visible":function(t){e.dialogFormVisible_yg=t}}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value_yg,callback:function(t){e.value_yg=t},expression:"value_yg"}},e._l(e.options_yg,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el_button_qx",on:{click:function(t){e.dialogFormVisible_yg=!1}}},[e._v(" 取 消 ")]),a("el-button",{staticClass:"el_button_qd",attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_yg=!1}}},[e._v(" 确 定 ")])],1)],1),a("el-dialog",{attrs:{visible:e.dialogFormVisible_cx},on:{"update:visible":function(t){e.dialogFormVisible_cx=t}}},[a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("结构系数：")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.jg,callback:function(t){e.$set(e.search_useless,"jg",t)},expression:"search_useless.jg"}})],1),a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("核心节点：")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.hx,callback:function(t){e.$set(e.search_useless,"hx",t)},expression:"search_useless.hx"}})],1),a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("置信度：")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.zx,callback:function(t){e.$set(e.search_useless,"zx",t)},expression:"search_useless.zx"}})],1),a("div",{staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("误差界限：")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.wc,callback:function(t){e.$set(e.search_useless,"wc",t)},expression:"search_useless.wc"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.button_focus,expression:"!button_focus"}],staticClass:"demo-input-suffix"},[a("span",{staticStyle:{width:"100px"}},[e._v("元路径：")]),a("el-input",{attrs:{placeholder:"请输入","prefix-icon":"el-icon-search"},model:{value:e.search_useless.yl,callback:function(t){e.$set(e.search_useless,"yl",t)},expression:"search_useless.yl"}})],1),a("div",{staticClass:"demo-input-suffix-select"},[a("span",{staticStyle:{width:"100px"}},[e._v("社区模型：")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value_yg,callback:function(t){e.value_yg=t},expression:"value_yg"}},e._l(e.options_cx,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"el_button_qx",on:{click:function(t){e.dialogFormVisible_cx=!1}}},[e._v(" 取 消 ")]),a("el-button",{staticClass:"el_button_qd",attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible_cx=!1}}},[e._v(" 确 定 ")])],1)]),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:4}},[a("el-tooltip",{attrs:{content:"round by round"}},[a("el-button",{staticClass:"select-button_abc",on:{click:function(t){return e.chooseInteractive()}}},[e._v(" 开始运行 ")])],1)],1),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:1}},["interactive"===e.status?a("el-tooltip",{attrs:{content:"continue"}},[a("el-button",{staticClass:"search-icon",attrs:{type:"primary"},on:{click:function(t){return e.modeSelect("interactive")}}},[a("svg",{staticClass:"icon",attrs:{t:"1646027791988",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2864",width:"200",height:"200",fill:"#fff"}},[a("path",{attrs:{d:"M104 0v1024l816-512z","p-id":"2865"}})])])],1):e._e()],1),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:4}},[a("el-tooltip",{attrs:{content:"round by round"}},[a("el-button",{staticClass:"select-button_abc",on:{click:e.inputAttr}},[e._v(" 查询参数 ")])],1)],1),a("el-col",{staticStyle:{display:"flex","align-items":"center","flex-wrap":"nowrap","justify-content":"space-around"},attrs:{span:2}},[a("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:this.listViewShow,expression:"this.listViewShow"}],attrs:{content:"round by round"}},[a("el-button",{staticClass:"select-button_abc"},[e._v(" 列表视图 ")])],1)],1)],1)},Se=[],ke={name:"ModeSelect",props:{maxRound:{type:Number,default:function(){return 0}},round:{type:Number,default:function(){return 0}},query:{type:String,default:function(){return""}},control_graphShow:{type:Object,default:function(){return 0}}},data:function(){return{button_focus:null,button_focus_click:null,options_tg:[{value:"选项1",label:"facebook"},{value:"选项2",label:"Github"},{value:"选项3",label:"twitch"},{value:"选项4",label:"LiveJournal"},{value:"选项5",label:"Twitter-2010"}],value_tg:"",options_yg:[{value:"选项1",label:"DBLP"},{value:"选项2",label:"IMDB"},{value:"选项3",label:"Dbpedia"},{value:"选项4",label:"Freebase"},{value:"选项5",label:"Yago"}],options_cx:[{value:"选项1",label:"k-core"},{value:"选项2",label:"k-truss"}],search_useless:{jg:null,hx:null,zx:null,wc:null,yl:null},value_yg:"",dialogFormVisible_tg:!1,dialogFormVisible_yg:!1,dialogFormVisible_cx:!1,model:"",status:"",oldRound:void 0,oldMaxRound:void 0,errorBoundModelClick:!1,errorBound:"",confidenceLevel:"",initStyle:{background:"#ebebeb !important",color:"#000000 !important"},listViewShow:!1}},computed:{computedStyleTG:function(){return this.button_focus?"":this.initStyle},computedStyleYG:function(){return!this.button_focus&&this.button_focus_click?"":this.initStyle}},watch:{query:{handler:function(){this.status="unselected",this.model="unselected",this.errorBound="",this.confidenceLevel=""},immediate:!0,deep:!0}},methods:{errorBoundClick:function(){0!==this.maxRound&&"interactive model"!==this.model?(this.model="error-bound model",this.errorBoundModelClick=!0,this.$message.success("Successfully choose error-bound model!")):this.$message.error("No query was submitted or another model has been chosen!")},modeSelect:function(e){this.listViewShow=!0,this.control_graphShow.isshow=!1,this.$emit("modeSelect",e),0!==this.maxRound&&(this.status=e)},chooseInteractive:function(){this.control_graphShow.isshow=!0,0!==this.maxRound&&"error-bound model"!==this.model?(this.status="interactive",this.$message.success("Successfully choose interactive model!"),this.model="interactive model",this.$emit("modeSelect","chooseInteractive")):this.$message.error("No query was submitted or another model has been chosen!")},change_button_focus:function(e){this.button_focus_click=!0,null===this.button_focus?this.button_focus=e:this.button_focus=!this.button_focus,this.dialogFormVisible_tg=!0},change_button_focus_yg:function(e){this.button_focus_click=!0,null===this.button_focus?this.button_focus=e:this.button_focus=!this.button_focus,this.dialogFormVisible_yg=!0},inputAttr:function(){this.dialogFormVisible_cx=!this.dialogFormVisible_cx}}},Ce=ke,Ae=(a("f30b"),Object(g["a"])(Ce,xe,Se,!1,null,"1a42525d",null)),qe=Ae.exports,De=a("bc3a"),je=a.n(De),Oe=a("5c96"),Pe=a.n(Oe),Fe={name:"LayOut",components:{SideBar:y,HeadSearcher:A,ResultsTable:F,CandidateAnswers:L,QueryGraph:K,ControlButtons:ie,miniQueryGraph:ce,largeQueryGraph:ge,SpecialGraph:_e,ModeSelect:qe},data:function(){return{control_graphShow:{isshow:!1},sampleQueries:x,candidateAnswers:[],queryData:{},graphData:[],tableData:[],round:0,maxRound:0,options:[],query:"",click:0,selectedSample:"",predicate:"",largeGraph:[],miniGraphType:"",largeGraphDataType:!1,nodeLimit:200,status:!1,answer:!1}},mounted:function(){var e=this;je.a.get("knowledgeGraph.json").then((function(t){t=t.data,e.processKnowledgeGraphData(t)}))},methods:{changeStatus:function(){this.status=!0},processKnowledgeGraphData:function(e){for(var t=[],a="Database",i=0;i<this.nodeLimit;i++)t.push(e[a][i]);for(var s={},r=[],n=[],o=[],l=[],c=1,h=0;h<t.length;h++){var u=t[h];if(void 0!==e[u]){r.push(u),n.push(c),o.push({id:c,name:u,color:"yellow"});var d={from:0,to:c},p=c;c++,l.push(d);for(var f=[],g=0;g<e[u].length;g++){var m=e[u][g];if(-1===f.indexOf(m)){r.push(m),f.push(m),n.push(c),o.push({id:c,name:m}),c++;var y={from:p,to:c-1};l.push(y)}}}}o.push({id:0,name:"DataBase",color:"red"}),s["edgesArray"]=l,s["nodesArray"]=o,this.largeGraphDataType=!1,this.largeGraph=s},dataProcess:function(e){if(Object.keys(e).length-1===0)return e;for(var t=Object.keys(e),a=2;a<=t.length-1;a++){for(var i=B(e[a].queryPath),s=B(e[a-1].queryPath),r=i.length,n=s.length,o=void 0,l=void 0,c=0;c<r;c++){o=i[c].path;for(var h=!0,u=0;u<n;u++)if(l=s[u].path,o.toString()===l.toString()){h=!1;break}h&&s.push(i[c])}e[a].queryPath=s}return e},getSelectedSample:function(e){this.selectedSample=e.samplename},choosedQuery:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""!==e.query){a.next=2;break}return a.abrupt("return");case 2:return t.click=1,t.query=e.query,a.next=6,je.a.get("./data/"+e.query+".json").then((function(a){a=a.data,t.predicate=a.predicate,console.log(t.predicate),t.queryData=a,t.queryData=t.dataProcess(t.queryData),t.maxRound=Object.keys(t.queryData).length-1,1===e.flag?t.round=0:2===e.flag&&0===t.round&&(t.round=1),t.tableData=[],t.candidateAnswers=[],t.graphData=[],t.tableData=[],t.options=[],t.initTableData(),t.initGraphData(),t.initCandidateAnswers()})).catch((function(){t.$message.error("No relevant query found, please enter another query!")}));case 6:je.a.get("./data/"+e.query+" graph.json").then((function(e){t.largeGraphDataType=!0,t.largeGraph=e["data"].edges}));case 7:case"end":return a.stop()}}),a)})))()},modeSelect:function(e){if("normal"===e){if(0===this.maxRound)return void this.$message.error("Please submit query first!");if(this.round>=this.maxRound)return void this.$message.error("Query already submitted!");if(this.round>=1)return void this.$message.error("You have chosen interactive mode!");for(var t=0;t<this.maxRound;t++)this.round++,this.initTableData();this.answer=!0,this.initGraphData()}else if("interactive"===e){if(0===this.maxRound)return void this.$message.error("Please submit query first!");if(this.round>=this.maxRound)return void this.$message.error("Reaches the maximum number of iterations");this.answer=!1,this.round++,this.initTableData(),this.initGraphData()}else if("chooseInteractive"===e){if(0===this.maxRound)return void this.$message.error("Please submit query first!");this.round>=1&&this.$message.error("Query has already been submitted")}},getQuery:function(){0!==this.click?this.round>=1?this.$message.error("Query has already been submitted."):(this.round=1,this.initTableData(),this.initGraphData(),this.initCandidateAnswers()):Oe["Message"].error("Please choose a query")},getMessage:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.click){t.next=5;break}return Oe["Message"].error("Please choose a query"),t.abrupt("return");case 5:if(!(e.round>=e.maxRound)){t.next=11;break}return console.log(e.round,e.maxRound),Oe["Message"].error("Reaches the maximum number of iterations"),t.abrupt("return");case 11:for(a=0;a<e.maxRound-1;a++)setTimeout((function(){e.round++,console.log(e.round,e.maxRound),e.initTableData(),e.initGraphData()}),1e3*a);case 12:case"end":return t.stop()}}),t)})))()},initTableData:function(){if(0!==this.round){var e={};e["round"]=this.round,e["confidence interval"]=this.queryData[this.round]["MoE"],e["confidence level-fixed"]=this.queryData[this.round]["confidence level-fixed"],e["error"]=this.queryData[this.round]["error"],e["result"]=this.queryData[this.round]["result"],e["runtime of this round"]=this.queryData[this.round]["runtime of this round"],this.tableData.push(e)}},initGraphData:function(){0!==this.round&&(this.graphData=this.queryData[this.round]["queryPath"])},initCandidateAnswers:function(){var e=this;this.candidateAnswers=[];for(var t=function(t){e.options.push({label:"round "+t,value:t});var a=[];e.queryData[t]["queryPath"].forEach((function(e){a.push({sampleName:e.path[0],visitprobality:e["visit probality"],semanticsimilarities:e["semantic similarities"]})})),e.candidateAnswers.push(a)},a=1;a<=this.maxRound;a++)t(a)},getMiniGraphType:function(e){this.miniGraphType=e}}},ze=Fe,Ne=(a("52de"),Object(g["a"])(ze,n,o,!1,null,"513ed042",null)),Ee=Ne.exports,Te={name:"App",components:{LayOut:Ee}},Ge=Te,Le=Object(g["a"])(Ge,s,r,!1,null,null,null),He=Le.exports;a("f5df1"),a("0fae"),a("b20f"),a("e570");i["default"].config.productionTip=!1,i["default"].use(Pe.a),new i["default"]({render:function(e){return e(He)}}).$mount("#app")},"5bf7":function(e,t,a){},"5e0b":function(e,t,a){},"6aa0":function(e,t,a){},"6b2e":function(e,t,a){},7422:function(e,t,a){"use strict";a("7aa2")},"7aa2":function(e,t,a){},8621:function(e,t,a){},a16f:function(e,t,a){"use strict";a("6aa0")},b20f:function(e,t,a){e.exports={blue:"#324157","light-blue":"#3a71a8",sideBarWidth:"30%",sideBarHeight:"85%"}},dde7:function(e,t,a){"use strict";a("e900")},e081:function(e,t,a){"use strict";a("5bf7")},e900:function(e,t,a){},ec5f:function(e,t,a){},f30b:function(e,t,a){"use strict";a("8621")}});
//# sourceMappingURL=app.698efa84.js.map